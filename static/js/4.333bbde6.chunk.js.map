{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","redux/actions.js","views/pages/login/Login.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","login","email","password","dispatch","axios","post","then","data","console","log","token","defaults","headers","common","localStorage","setItem","type","authedUser","window","location","reload","logout","removeItem","getUsers","get","users","getUser","uid","user","deleteUser","delete","_","getDrivers","drivers","getDriver","driver","car","make","model","year","color","verifyDriver","captainId","put","id","deleteDriver","getTrips","trips","getTrip","trip","pickup","address","dropoff","captain","getMessages","messages","getMessage","message","Login","useState","setUser","setPassword","useDispatch","history","useHistory","className","md","name","placeholder","autoComplete","onChange","event","target","xs","onClick"],"mappings":"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","file":"static/js/4.333bbde6.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import axios from \"axios\"\n\nexport const login = (email, password) => dispatch => {\n    axios.post('/auth/loginWithEmail', {\n        email,\n        password\n    })\n        .then(({ data }) => {\n            console.log(data)\n            const token = `Bearer ${data.token}`\n            \n            axios.defaults.headers.common['Authorization'] = token\n            localStorage.setItem('token', data.token)\n            dispatch({\n                type: 'LOGIN',\n                authedUser: 'admin'\n            })\n            window.location.reload()\n        })\n}\n\nexport const logout = () => dispatch => {    \n    axios.defaults.headers.common['Authorization'] = ''\n    localStorage.removeItem('token')\n\n    dispatch({\n        type: 'LOGOUT',\n    })\n}\n\nexport const getUsers = () => dispatch => {\n    axios.get('/admin/users/getUsers')\n        .then(({ data }) => {\n            dispatch({\n                type: 'SET_USERS',\n                users: data\n            })\n        })\n}\n\nexport const getUser = (uid) => dispatch => {\n    axios.post('/admin/users/getUser', { uid })\n        .then(({ data }) => {\n            dispatch({\n                type: 'SET_USER',\n                user: data\n            })\n        })\n}\n\nexport const deleteUser = (uid) => dispatch => {\n    axios.delete('/admin/users/deleteUser', { data: { uid } })\n        .then((_) => {\n            dispatch({\n                type: 'REMOVE_USER',\n                uid\n            })\n        })\n}\n\nexport const getDrivers = () => dispatch => {\n    axios.get('/admin/captains/getCaptains')\n        .then(({ data }) => {\n            dispatch({\n                type: 'SET_DRIVERS',\n                drivers: data\n            })\n        })\n}\n\nexport const getDriver = (uid) => dispatch => {\n    axios.post('/admin/captains/getCaptain', { uid })\n        .then(({ data }) => {\n            dispatch({\n                type: 'SET_DRIVER',\n                driver: {\n                    ...data,\n                    car: `${data.car?.make} ${data.car?.model} ${data.car?.year} ${data.car?.color}` || ''\n                }\n            })\n        })\n}\n\nexport const verifyDriver = (captainId) => dispatch => {\n    axios.put('/admin/captains/verifyCaptain', { captainId })\n        .then((_) => {\n            dispatch({\n                type: 'APPROVE_DRIVER',\n                id: captainId\n            })\n        })\n}\n\nexport const deleteDriver = (captainId) => dispatch => {\n    console.log(captainId)\n    axios.delete('/admin/captains/deleteCaptain', { data: { captainId } })\n        .then((_) => {\n            dispatch({\n                type: 'REMOVE_DRIVER',\n                id: captainId\n            })\n        })\n}\n\nexport const getTrips = () => dispatch => {\n    axios.get('/admin/trips/getTrips')\n        .then(({ data }) => {\n            dispatch({\n                type: 'SET_TRIPS',\n                trips: data\n            })\n        })\n}\n\nexport const getTrip = (id) => dispatch => {\n    axios.post('/admin/trips/getTrip', { id })\n        .then(({ data }) => {\n            dispatch({\n                type: 'SET_TRIP',\n                trip: {\n                    ...data,\n                    pickup: data.pickup.address,\n                    dropoff: data.dropoff.address,\n                    user: data.user.uid,\n                    captain: data.captain?.email || ''\n                }\n            })\n        })\n}\n\nexport const getMessages = () => dispatch => {\n    axios.get('/admin/messages/getMessages')\n        .then(({ data }) => {\n            dispatch({\n                type: 'SET_MESSAGES',\n                messages: data\n            })\n        })\n}\n\nexport const getMessage = (id) => dispatch => {\n    axios.post('/admin/messages/getMessage', { id })\n        .then(({ data }) => {\n            dispatch({\n                type: 'SET_MESSAGE',\n                message: data\n            })\n        })\n}","import React from 'react'\nimport { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCol,\n  CContainer,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport { login } from 'src/redux/actions'\nimport { useHistory } from 'react-router'\n\nconst Login = () => {\n  const [user, setUser] = useState('')\n  const [password, setPassword] = useState('')\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const handleChangeUser = (event) => {\n    setUser(event.target.value)\n  }\n\n  const handleChangePassword = (event) => {\n    setPassword(event.target.value)\n  }\n\n  function handleSubmit() {\n    dispatch(login(user, password))\n    history.push('/')\n  }\n\n  return (\n    <div className=\"c-app c-default-layout flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md=\"4\">\n              <CCard className=\"p-4\">\n                <CCardBody>\n                  <CForm>\n                    <h1>Login</h1>\n                    <p className=\"text-muted\">Sign In to your account</p>\n                    <CInputGroup className=\"mb-3\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-user\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                    <CInput type=\"text\" placeholder=\"Username\" autoComplete=\"username\" onChange={handleChangeUser} />\n                    </CInputGroup>\n                    <CInputGroup className=\"mb-4\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-lock-locked\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput type=\"password\" placeholder=\"Password\" autoComplete=\"current-password\" onChange={handleChangePassword} />\n                    </CInputGroup>\n                    <CRow>\n                    <CCol xs=\"6\">\n                      <CButton color=\"primary\" className=\"px-4\" onClick={handleSubmit}>Login</CButton>\n                      \n                      </CCol>\n                    </CRow>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default Login\n"],"sourceRoot":""}