(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[13],{651:function(e,n,t){"use strict";t.d(n,"k",(function(){return r})),t.d(n,"l",(function(){return i})),t.d(n,"j",(function(){return o})),t.d(n,"i",(function(){return d})),t.d(n,"b",(function(){return u})),t.d(n,"d",(function(){return l})),t.d(n,"c",(function(){return m})),t.d(n,"m",(function(){return j})),t.d(n,"a",(function(){return p})),t.d(n,"h",(function(){return h})),t.d(n,"g",(function(){return b})),t.d(n,"f",(function(){return f})),t.d(n,"e",(function(){return x}));var a=t(6),c=t(110),s=t.n(c),r=function(e,n){return function(t){s.a.post("/auth/loginWithEmail",{email:e,password:n}).then((function(e){var n=e.data;console.log(n);var a="Bearer ".concat(n.token);s.a.defaults.headers.common.Authorization=a,localStorage.setItem("token",n.token),t({type:"LOGIN",authedUser:"admin"}),window.location.reload()}))}},i=function(){return function(e){s.a.defaults.headers.common.Authorization="",localStorage.removeItem("token"),e({type:"LOGOUT"})}},o=function(){return function(e){s.a.get("/admin/users/getUsers").then((function(n){var t=n.data;e({type:"SET_USERS",users:t})}))}},d=function(e){return function(n){s.a.post("/admin/users/getUser",{uid:e}).then((function(e){var t=e.data;n({type:"SET_USER",user:t})}))}},u=function(e){return function(n){s.a.delete("/admin/users/deleteUser",{data:{uid:e}}).then((function(t){n({type:"REMOVE_USER",uid:e})}))}},l=function(){return function(e){s.a.get("/admin/captains/getCaptains").then((function(n){var t=n.data;e({type:"SET_DRIVERS",drivers:t})}))}},m=function(e){return function(n){s.a.post("/admin/captains/getCaptain",{uid:e}).then((function(e){var t,c,s,r,i=e.data;n({type:"SET_DRIVER",driver:Object(a.a)(Object(a.a)({},i),{},{car:"".concat(null===(t=i.car)||void 0===t?void 0:t.make," ").concat(null===(c=i.car)||void 0===c?void 0:c.model," ").concat(null===(s=i.car)||void 0===s?void 0:s.year," ").concat(null===(r=i.car)||void 0===r?void 0:r.color)||""})})}))}},j=function(e){return function(n){s.a.put("/admin/captains/verifyCaptain",{captainId:e}).then((function(t){n({type:"APPROVE_DRIVER",id:e})}))}},p=function(e){return function(n){console.log(e),s.a.delete("/admin/captains/deleteCaptain",{data:{captainId:e}}).then((function(t){n({type:"REMOVE_DRIVER",id:e})}))}},h=function(){return function(e){s.a.get("/admin/trips/getTrips").then((function(n){var t=n.data;e({type:"SET_TRIPS",trips:t})}))}},b=function(e){return function(n){s.a.post("/admin/trips/getTrip",{id:e}).then((function(e){var t,c=e.data;n({type:"SET_TRIP",trip:Object(a.a)(Object(a.a)({},c),{},{pickup:c.pickup.address,dropoff:c.dropoff.address,user:c.user.uid,captain:(null===(t=c.captain)||void 0===t?void 0:t.email)||""})})}))}},f=function(){return function(e){s.a.get("/admin/messages/getMessages").then((function(n){var t=n.data;e({type:"SET_MESSAGES",messages:t})}))}},x=function(e){return function(n){s.a.post("/admin/messages/getMessage",{id:e}).then((function(e){var t=e.data;n({type:"SET_MESSAGE",message:t})}))}}},683:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t.n(a),s=t(6),r=t(20),i=t(648),o=c.a.lazy((function(){return t.e(6).then(t.bind(null,675))})),d=c.a.lazy((function(){return t.e(5).then(t.bind(null,676))})),u=c.a.lazy((function(){return t.e(8).then(t.bind(null,677))})),l=c.a.lazy((function(){return t.e(7).then(t.bind(null,678))})),m=c.a.lazy((function(){return t.e(10).then(t.bind(null,679))})),j=c.a.lazy((function(){return t.e(9).then(t.bind(null,680))})),p=c.a.lazy((function(){return t.e(12).then(t.bind(null,681))})),h=[{path:"/",exact:!0,name:"Home"},{path:"/home",name:"Users",component:p},{path:"/users",exact:!0,name:"Users",component:p},{path:"/users/:id",exact:!0,name:"User Details",component:c.a.lazy((function(){return t.e(11).then(t.bind(null,682))}))},{path:"/drivers",exact:!0,name:"Drivers",component:o},{path:"/drivers/:id",exact:!0,name:"Driver Details",component:d},{path:"/trips",exact:!0,name:"Trips",component:m},{path:"/trips/:id",exact:!0,name:"Trip Details",component:j},{path:"/messages",exact:!0,name:"Messages",component:u},{path:"/messages/:id",exact:!0,name:"Message",component:l}],b=t(21),f=Object(b.jsx)("div",{className:"pt-3 text-center",children:Object(b.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),x=function(){return Object(b.jsx)("main",{className:"c-main",children:Object(b.jsx)(i.k,{fluid:!0,children:Object(b.jsx)(a.Suspense,{fallback:f,children:Object(b.jsx)(r.c,{children:h.map((function(e,n){return e.component&&Object(b.jsx)(r.a,{path:e.path,exact:e.exact,name:e.name,render:function(n){return Object(b.jsx)(i.r,{children:Object(b.jsx)(e.component,Object(s.a)({},n))})}},n)}))})})})})},O=c.a.memo(x),v=function(){return Object(b.jsx)(i.s,{fixed:!1,children:Object(b.jsxs)("div",{children:[Object(b.jsx)("a",{href:"https://sahm.com",target:"_blank",rel:"noopener noreferrer",children:"Sahm"}),Object(b.jsx)("span",{className:"ml-1",children:"\xa9 2021 Sahm ltd."})]})})},g=c.a.memo(v),S=t(83),N=t.p+"static/media/logo.e50dc965.png",y=t(649),w=function(){var e=Object(S.c)(),n=Object(S.d)((function(e){return e.sidebarShow}));return Object(b.jsxs)(i.u,{withSubheader:!0,children:[Object(b.jsx)(i.S,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var t=!![!1,"responsive"].includes(n)||"responsive";e({type:"set",sidebarShow:t})}}),Object(b.jsx)(i.S,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var t=![!0,"responsive"].includes(n)&&"responsive";e({type:"set",sidebarShow:t})}}),Object(b.jsx)(i.v,{className:"mx-auto d-lg-none",to:"/",children:Object(b.jsx)(i.I,{children:Object(b.jsx)(y.a,{name:"logo",src:N,height:"48",alt:"Logo"})})}),Object(b.jsxs)(i.w,{className:"d-md-down-none mr-auto",children:[Object(b.jsx)(i.x,{className:"px-3",children:Object(b.jsx)(i.y,{to:"/users",children:"Users"})}),Object(b.jsx)(i.x,{className:"px-3",children:Object(b.jsx)(i.y,{to:"/theme",children:"Settings"})})]}),Object(b.jsx)(i.w,{className:"px-3",children:Object(b.jsx)(k,{})}),Object(b.jsxs)(i.R,{className:"px-3 justify-content-between",children:[Object(b.jsx)(i.d,{className:"border-0 c-subheader-nav m-0 px-0 px-md-3",routes:h}),Object(b.jsxs)("div",{className:"d-md-down-none mfe-2 c-subheader-nav",children:[Object(b.jsx)(i.F,{className:"c-subheader-nav-link",href:"#",children:Object(b.jsx)(y.a,{name:"cil-speech",alt:"Settings"})}),Object(b.jsxs)(i.F,{className:"c-subheader-nav-link",href:"#",children:[Object(b.jsx)(y.a,{name:"cil-settings",alt:"Settings"}),"\xa0Settings"]})]})]})]})},E=t(651),k=function(){var e=Object(S.c)(),n=Object(r.f)();return Object(b.jsxs)(i.n,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:[Object(b.jsx)(i.q,{className:"c-header-nav-link",caret:!1,children:Object(b.jsx)("div",{className:"c-avatar",children:Object(b.jsx)(i.z,{src:"avatars/6.jpg",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"})})}),Object(b.jsx)(i.p,{className:"pt-0",placement:"bottom-end",children:Object(b.jsx)(i.o,{children:Object(b.jsxs)(i.e,{onClick:function(){return e(Object(E.l)()),n.push("/"),void window.location.reload()},children:[Object(b.jsx)(y.a,{name:"cil-lock-locked",className:"mfe-2"}),"Logout"]})})})]})},_=[{_tag:"CSidebarNavDropdown",name:"Accounts",icon:"cil-people",_children:[{_tag:"CSidebarNavItem",name:"Users",to:"/users"},{_tag:"CSidebarNavItem",name:"Drivers",to:"/drivers"}]},{_tag:"CSidebarNavItem",name:"Trips",icon:"cil-map",to:"/trips"},{_tag:"CSidebarNavItem",name:"Messages",icon:"cil-comment-square",to:"/messages"}],C=function(){var e=Object(S.c)(),n=Object(S.d)((function(e){return e.sidebarShow}));return Object(b.jsxs)(i.J,{show:n,onShowChange:function(n){return e({type:"set",sidebarShow:n})},children:[Object(b.jsxs)(i.K,{className:"d-md-down-none",to:"/",children:[Object(b.jsxs)(i.j,{children:[Object(b.jsx)(y.a,{className:"c-sidebar-brand-full",src:N,name:"logo-negative",height:100}),Object(b.jsx)("h1",{className:"text-primary text-center",children:"Sahm"})]}),Object(b.jsx)(y.a,{className:"c-sidebar-brand-minimized",name:"sygnet",height:35})]}),Object(b.jsx)(i.M,{children:Object(b.jsx)(i.l,{items:_,components:{CSidebarNavDivider:i.N,CSidebarNavDropdown:i.O,CSidebarNavItem:i.P,CSidebarNavTitle:i.Q}})}),Object(b.jsx)(i.L,{className:"c-d-md-down-none"})]})},I=c.a.memo(C);n.default=function(){return Object(b.jsxs)("div",{className:"c-app c-default-layout",children:[Object(b.jsx)(I,{}),Object(b.jsxs)("div",{className:"c-wrapper",children:[Object(b.jsx)(w,{}),Object(b.jsx)("div",{className:"c-body",children:Object(b.jsx)(O,{})}),Object(b.jsx)(g,{})]})]})}}}]);
//# sourceMappingURL=13.c18c5f44.chunk.js.map