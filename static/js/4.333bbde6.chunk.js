(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[4],{650:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(161);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,r=!1,c=void 0;try{for(var i,o=t[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!e||n.length!==e);a=!0);}catch(u){r=!0,c=u}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}return n}}(t,e)||Object(a.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},651:function(t,e,n){"use strict";n.d(e,"k",(function(){return i})),n.d(e,"l",(function(){return o})),n.d(e,"j",(function(){return u})),n.d(e,"i",(function(){return s})),n.d(e,"b",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"m",(function(){return p})),n.d(e,"a",(function(){return j})),n.d(e,"h",(function(){return m})),n.d(e,"g",(function(){return h})),n.d(e,"f",(function(){return b})),n.d(e,"e",(function(){return O}));var a=n(6),r=n(110),c=n.n(r),i=function(t,e){return function(n){c.a.post("/auth/loginWithEmail",{email:t,password:e}).then((function(t){var e=t.data;console.log(e);var a="Bearer ".concat(e.token);c.a.defaults.headers.common.Authorization=a,localStorage.setItem("token",e.token),n({type:"LOGIN",authedUser:"admin"}),window.location.reload()}))}},o=function(){return function(t){c.a.defaults.headers.common.Authorization="",localStorage.removeItem("token"),t({type:"LOGOUT"})}},u=function(){return function(t){c.a.get("/admin/users/getUsers").then((function(e){var n=e.data;t({type:"SET_USERS",users:n})}))}},s=function(t){return function(e){c.a.post("/admin/users/getUser",{uid:t}).then((function(t){var n=t.data;e({type:"SET_USER",user:n})}))}},d=function(t){return function(e){c.a.delete("/admin/users/deleteUser",{data:{uid:t}}).then((function(n){e({type:"REMOVE_USER",uid:t})}))}},l=function(){return function(t){c.a.get("/admin/captains/getCaptains").then((function(e){var n=e.data;t({type:"SET_DRIVERS",drivers:n})}))}},f=function(t){return function(e){c.a.post("/admin/captains/getCaptain",{uid:t}).then((function(t){var n,r,c,i,o=t.data;e({type:"SET_DRIVER",driver:Object(a.a)(Object(a.a)({},o),{},{car:"".concat(null===(n=o.car)||void 0===n?void 0:n.make," ").concat(null===(r=o.car)||void 0===r?void 0:r.model," ").concat(null===(c=o.car)||void 0===c?void 0:c.year," ").concat(null===(i=o.car)||void 0===i?void 0:i.color)||""})})}))}},p=function(t){return function(e){c.a.put("/admin/captains/verifyCaptain",{captainId:t}).then((function(n){e({type:"APPROVE_DRIVER",id:t})}))}},j=function(t){return function(e){console.log(t),c.a.delete("/admin/captains/deleteCaptain",{data:{captainId:t}}).then((function(n){e({type:"REMOVE_DRIVER",id:t})}))}},m=function(){return function(t){c.a.get("/admin/trips/getTrips").then((function(e){var n=e.data;t({type:"SET_TRIPS",trips:n})}))}},h=function(t){return function(e){c.a.post("/admin/trips/getTrip",{id:t}).then((function(t){var n,r=t.data;e({type:"SET_TRIP",trip:Object(a.a)(Object(a.a)({},r),{},{pickup:r.pickup.address,dropoff:r.dropoff.address,user:r.user.uid,captain:(null===(n=r.captain)||void 0===n?void 0:n.email)||""})})}))}},b=function(){return function(t){c.a.get("/admin/messages/getMessages").then((function(e){var n=e.data;t({type:"SET_MESSAGES",messages:n})}))}},O=function(t){return function(e){c.a.post("/admin/messages/getMessage",{id:t}).then((function(t){var n=t.data;e({type:"SET_MESSAGE",message:n})}))}}},671:function(t,e,n){"use strict";n.r(e);var a=n(650),r=n(1),c=n(83),i=n(648),o=n(649),u=n(651),s=n(20),d=n(21);e.default=function(){var t=Object(r.useState)(""),e=Object(a.a)(t,2),n=e[0],l=e[1],f=Object(r.useState)(""),p=Object(a.a)(f,2),j=p[0],m=p[1],h=Object(c.c)(),b=Object(s.f)();return Object(d.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center",children:Object(d.jsx)(i.k,{children:Object(d.jsx)(i.I,{className:"justify-content-center",children:Object(d.jsx)(i.j,{md:"4",children:Object(d.jsx)(i.f,{className:"p-4",children:Object(d.jsx)(i.g,{children:Object(d.jsxs)(i.t,{children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsx)("p",{className:"text-muted",children:"Sign In to your account"}),Object(d.jsxs)(i.B,{className:"mb-3",children:[Object(d.jsx)(i.D,{children:Object(d.jsx)(i.E,{children:Object(d.jsx)(o.a,{name:"cil-user"})})}),Object(d.jsx)(i.A,{type:"text",placeholder:"Username",autoComplete:"username",onChange:function(t){l(t.target.value)}})]}),Object(d.jsxs)(i.B,{className:"mb-4",children:[Object(d.jsx)(i.D,{children:Object(d.jsx)(i.E,{children:Object(d.jsx)(o.a,{name:"cil-lock-locked"})})}),Object(d.jsx)(i.A,{type:"password",placeholder:"Password",autoComplete:"current-password",onChange:function(t){m(t.target.value)}})]}),Object(d.jsx)(i.I,{children:Object(d.jsx)(i.j,{xs:"6",children:Object(d.jsx)(i.e,{color:"primary",className:"px-4",onClick:function(){h(Object(u.k)(n,j)),b.push("/")},children:"Login"})})})]})})})})})})})}}}]);
//# sourceMappingURL=4.333bbde6.chunk.js.map